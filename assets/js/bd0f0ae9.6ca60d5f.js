"use strict";(self.webpackChunknotas_personales=self.webpackChunknotas_personales||[]).push([[508],{3316:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var a=i(4848),s=i(8453);const r={sidebar_position:2},t=void 0,c={id:"Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/Authentication",title:"Authentication",description:"\xbfQu\xe9 es?",source:"@site/docs/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/Authentication.md",sourceDirName:"Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n",slug:"/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/Authentication",permalink:"/notas-de-aprendizaje/docs/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/Authentication",draft:!1,unlisted:!1,editUrl:"https://github.com/SanRM/notas-de-aprendizaje/edit/main/docs/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/Authentication.md",tags:[],version:"current",lastUpdatedBy:"SanRM",lastUpdatedAt:1729354227e3,sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"SecurityContextHolder",permalink:"/notas-de-aprendizaje/docs/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/SecurityContextHolder"},next:{title:"AuthenticationManager",permalink:"/notas-de-aprendizaje/docs/Lenguajes de programaci\xf3n/Java/Spring/Spring Security/Autenticaci\xf3n/Arquitectura de la autenticaci\xf3n/AuthenticationManager"}},o={},l=[{value:"\xbfQu\xe9 es?",id:"qu\xe9-es",level:3},{value:"\xbfQu\xe9 Contiene la Autenticaci\xf3n?",id:"qu\xe9-contiene-la-autenticaci\xf3n",level:3},{value:"C\xf3mo Funciona en el Ciclo de Autenticaci\xf3n",id:"c\xf3mo-funciona-en-el-ciclo-de-autenticaci\xf3n",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Card:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Card",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h3,{id:"qu\xe9-es",children:"\xbfQu\xe9 es?"}),"\n",(0,a.jsxs)(n.p,{children:["La interfaz ",(0,a.jsx)(n.strong,{children:"Authentication"})," en Spring Security cumple dos funciones principales:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Proveer las credenciales del usuario para autenticarlo"}),": Es utilizada como entrada para el ",(0,a.jsx)(n.strong,{children:"AuthenticationManager"}),", que se encarga de validar si las credenciales proporcionadas (como el usuario y la contrase\xf1a) son correctas. Cuando se usa en este contexto, el m\xe9todo ",(0,a.jsx)(n.code,{children:"isAuthenticated()"})," devolver\xe1 ",(0,a.jsx)(n.code,{children:"false"}),", ya que a\xfan no se ha verificado si el usuario es v\xe1lido."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Representar al usuario autenticado actualmente"}),": Despu\xe9s de que un usuario ha sido autenticado exitosamente, puedes obtener los detalles de su autenticaci\xf3n a trav\xe9s del ",(0,a.jsx)(n.strong,{children:"SecurityContext"})," (que es donde Spring Security almacena la informaci\xf3n de seguridad del usuario durante la sesi\xf3n)."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)(n.h3,{id:"qu\xe9-contiene-la-autenticaci\xf3n",children:"\xbfQu\xe9 Contiene la Autenticaci\xf3n?"}),(0,a.jsxs)(n.p,{children:["La interfaz ",(0,a.jsx)(n.strong,{children:"Authentication"})," almacena varios detalles importantes sobre el proceso de autenticaci\xf3n. Vamos a ver cada uno:"]}),(0,a.jsx)(i,{children:(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"principal (principal)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 es?"}),": El ",(0,a.jsx)(n.code,{children:"principal"})," identifica al usuario que est\xe1 intentando autenticarse o que ya ha sido autenticado."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ejemplo t\xedpico"}),": Cuando usas un nombre de usuario y una contrase\xf1a para autenticarte, el ",(0,a.jsx)(n.code,{children:"principal"})," suele ser una instancia de ",(0,a.jsx)(n.strong,{children:"UserDetails"})," (una clase que representa al usuario en Spring Security)."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Funci\xf3n"}),": Su funci\xf3n es proporcionar informaci\xf3n clave sobre el usuario, como su nombre de usuario, si est\xe1 habilitado, y otros detalles relevantes."]}),"\n"]}),"\n"]}),"\n"]})}),(0,a.jsx)(i,{children:(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"credentials (credenciales)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 es?"}),": Las ",(0,a.jsx)(n.code,{children:"credentials"})," son t\xedpicamente la contrase\xf1a que el usuario ha proporcionado para autenticarse."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 sucede con las credenciales?"}),': En muchos casos, despu\xe9s de que un usuario es autenticado, estas credenciales se borran (por ejemplo, la contrase\xf1a se "limpia" de la memoria) para evitar riesgos de seguridad como que la contrase\xf1a sea expuesta accidentalmente.']}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Motivo"}),": Esto se hace para proteger la confidencialidad de las credenciales, ya que no es necesario mantenerlas una vez que el usuario ha sido autenticado."]}),"\n"]}),"\n"]}),"\n"]})}),(0,a.jsx)(i,{children:(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"authorities (autoridades)"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\xbfQu\xe9 es?"}),": Las ",(0,a.jsx)(n.code,{children:"authorities"})," son una colecci\xf3n de permisos de alto nivel que se le han concedido al usuario. En Spring Security, estas son instancias de la interfaz ",(0,a.jsx)(n.strong,{children:"GrantedAuthority"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ejemplos de Authorities"}),":","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Roles"}),': Un ejemplo de autoridad es un "rol" (como ',(0,a.jsx)(n.code,{children:"ROLE_ADMIN"})," o ",(0,a.jsx)(n.code,{children:"ROLE_USER"}),"), que define un conjunto de permisos que el usuario tiene en la aplicaci\xf3n."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Scopes"}),': Otro ejemplo puede ser un "scope" (como ',(0,a.jsx)(n.code,{children:"SCOPE_read"})," o ",(0,a.jsx)(n.code,{children:"SCOPE_write"}),"), que define el nivel de acceso a ciertos recursos o funciones."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Funci\xf3n"}),": Las autoridades permiten que la aplicaci\xf3n decida qu\xe9 acciones o recursos est\xe1n disponibles para el usuario autenticado."]}),"\n"]}),"\n"]}),"\n"]})})]}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)(n.h3,{id:"c\xf3mo-funciona-en-el-ciclo-de-autenticaci\xf3n",children:"C\xf3mo Funciona en el Ciclo de Autenticaci\xf3n"}),(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Ingreso de Credenciales"}),": El usuario proporciona su nombre de usuario y contrase\xf1a."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Creaci\xf3n del Objeto Authentication"}),": Se crea una instancia de ",(0,a.jsx)(n.strong,{children:"Authentication"})," con esas credenciales y se pasa al ",(0,a.jsx)(n.strong,{children:"AuthenticationManager"})," para que las valide. En este punto, el m\xe9todo ",(0,a.jsx)(n.code,{children:"isAuthenticated()"})," devuelve ",(0,a.jsx)(n.code,{children:"false"})," porque el usuario a\xfan no ha sido autenticado."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Validaci\xf3n por el AuthenticationManager"}),": El ",(0,a.jsx)(n.strong,{children:"AuthenticationManager"})," verifica las credenciales compar\xe1ndolas con los datos almacenados (por ejemplo, los datos de un usuario en una base de datos)."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Autenticaci\xf3n Exitosa"}),": Si las credenciales son v\xe1lidas, el ",(0,a.jsx)(n.strong,{children:"AuthenticationManager"})," devuelve un objeto ",(0,a.jsx)(n.strong,{children:"Authentication"})," actualizado, donde el ",(0,a.jsx)(n.code,{children:"isAuthenticated()"})," ahora devuelve ",(0,a.jsx)(n.code,{children:"true"})," y se almacenan los detalles del usuario autenticado (como el ",(0,a.jsx)(n.code,{children:"principal"}),", los ",(0,a.jsx)(n.code,{children:"authorities"}),", etc.)."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Acceso al Usuario Autenticado"}),": Una vez autenticado, el objeto ",(0,a.jsx)(n.strong,{children:"Authentication"})," se guarda en el ",(0,a.jsx)(n.strong,{children:"SecurityContext"})," y puedes obtenerlo en cualquier parte de la aplicaci\xf3n para verificar qui\xe9n est\xe1 autenticado y qu\xe9 permisos tiene."]}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(n.p,{children:["La interfaz ",(0,a.jsx)(n.strong,{children:"Authentication"})," es esencial en Spring Security porque permite tanto el manejo de las credenciales del usuario durante la autenticaci\xf3n como la representaci\xf3n del usuario autenticado a lo largo de su sesi\xf3n. Incluye informaci\xf3n clave como el ",(0,a.jsx)(n.code,{children:"principal"})," (el usuario), las ",(0,a.jsx)(n.code,{children:"credentials"})," (generalmente la contrase\xf1a), y las ",(0,a.jsx)(n.code,{children:"authorities"})," (los permisos o roles del usuario). Todo este mecanismo es fundamental para garantizar que solo los usuarios autorizados tengan acceso a las funciones correctas de la aplicaci\xf3n."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var a=i(6540);const s={},r=a.createContext(s);function t(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);