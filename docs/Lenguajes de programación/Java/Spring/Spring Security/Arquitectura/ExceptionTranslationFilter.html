<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">ExceptionTranslationFilter | Notas de aprendizaje</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://SanRM.github.io/notas-de-aprendizaje/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://SanRM.github.io/notas-de-aprendizaje/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://SanRM.github.io/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ExceptionTranslationFilter | Notas de aprendizaje"><meta data-rh="true" name="description" content="El ExceptionTranslationFilter es un filtro en Spring Security que maneja excepciones relacionadas con la seguridad, específicamente las siguientes:"><meta data-rh="true" property="og:description" content="El ExceptionTranslationFilter es un filtro en Spring Security que maneja excepciones relacionadas con la seguridad, específicamente las siguientes:"><link data-rh="true" rel="icon" href="/notas-de-aprendizaje/img/favicon_notas_aprendizaje.ico"><link data-rh="true" rel="canonical" href="https://SanRM.github.io/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter"><link data-rh="true" rel="alternate" href="https://SanRM.github.io/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter" hreflang="en"><link data-rh="true" rel="alternate" href="https://SanRM.github.io/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter" hreflang="x-default"><link rel="stylesheet" href="/notas-de-aprendizaje/assets/css/styles.7d7be25c.css">
<script src="/notas-de-aprendizaje/assets/js/runtime~main.51bb2e4f.js" defer="defer"></script>
<script src="/notas-de-aprendizaje/assets/js/main.b4691fd8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/notas-de-aprendizaje/"><div class="navbar__logo"><img src="/notas-de-aprendizaje/img/favicon_notas_aprendizaje.ico" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/notas-de-aprendizaje/img/favicon_notas_aprendizaje.ico" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Notas de aprendizaje</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notas-de-aprendizaje/docs">Inicio</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/notas-de-aprendizaje/docs/category/bases-de-datos">Bases de datos</a><button aria-label="Expand sidebar category &#x27;Bases de datos&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/notas-de-aprendizaje/docs/category/lenguajes-de-programación">Lenguajes de programación</a><button aria-label="Collapse sidebar category &#x27;Lenguajes de programación&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Angular/Componentes">Angular</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Dart/Constructores">Dart</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Calidad de software - DevOps/SonarQube">Java</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Calidad de software - DevOps/SonarQube">Calidad de software - DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/notas-de-aprendizaje/docs/category/test-unitarios">Test unitarios</a><button aria-label="Expand sidebar category &#x27;Test unitarios&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/notas-de-aprendizaje/docs/category/spring">Spring</a><button aria-label="Collapse sidebar category &#x27;Spring&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Boot/Introducción a Spring Boot">Spring Boot</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/notas-de-aprendizaje/docs/category/spring-security">Spring Security</a><button aria-label="Collapse sidebar category &#x27;Spring Security&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura">Arquitectura (Visión General)</a><button aria-label="Collapse sidebar category &#x27;Arquitectura (Visión General)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Los Filtros">¿Qué son los filtros?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/DelegatingFilterProxy">DelegatingFilterProxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/FilterChainProxy">FilterChainProxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/SecurityFilterChain">SecurityFilterChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Filtros de seguridad">Filtros de seguridad</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Imprimir los filtros de seguridad">Imprimiendo los filtros de seguridad</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Filtros personalizados">Filtros personalizados</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter">ExceptionTranslationFilter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Guardar solicitudes">Guardar y reutilizar solicitudes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Logging">Logging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Autenticación">Autenticación</a><button aria-label="Expand sidebar category &#x27;Autenticación&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/notas-de-aprendizaje/docs/category/metodologías-de-desarrollo-de-software">Metodologías de desarrollo de software</a><button aria-label="Expand sidebar category &#x27;Metodologías de desarrollo de software&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/notas-de-aprendizaje/docs/category/patrones-de-diseño">Patrones de diseño</a><button aria-label="Expand sidebar category &#x27;Patrones de diseño&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notas-de-aprendizaje/docs/category/linux">Sistemas operativos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notas-de-aprendizaje/docs/Trucos y tips/Atajos de teclado/Mapa de caracteres">Trucos y tips</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notas-de-aprendizaje/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notas-de-aprendizaje/docs/category/lenguajes-de-programación"><span itemprop="name">Lenguajes de programación</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Java</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notas-de-aprendizaje/docs/category/spring"><span itemprop="name">Spring</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notas-de-aprendizaje/docs/category/spring-security"><span itemprop="name">Spring Security</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura"><span itemprop="name">Arquitectura (Visión General)</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ExceptionTranslationFilter</span><meta itemprop="position" content="6"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ExceptionTranslationFilter</h1></header><p>El <strong>ExceptionTranslationFilter</strong> es un filtro en Spring Security que maneja excepciones relacionadas con la seguridad, específicamente las siguientes:</p>
<div style="background-color:rgba(255, 0, 0, 0.05);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid rgba(255, 0, 0, 0.5);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><ol>
<li><strong>AuthenticationException</strong>: Se lanza cuando un usuario no está autenticado (es decir, no ha proporcionado credenciales válidas).</li>
</ol><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<div style="background-color:rgba(255, 0, 172, 0.05);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid rgba(255, 0, 172, 0.5);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><ol start="2">
<li><strong>AccessDeniedException</strong>: Se lanza cuando un usuario está autenticado pero no tiene los permisos necesarios para acceder a un recurso.</li>
</ol><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<p>Este filtro convierte esas excepciones en respuestas HTTP apropiadas, permitiendo que la aplicación gestione de forma adecuada los casos en que un usuario no tiene acceso o no está autenticado.</p>
<div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cómo-se-inserta-en-la-cadena-de-filtros">¿Cómo se Inserta en la Cadena de Filtros?<a href="#cómo-se-inserta-en-la-cadena-de-filtros" class="hash-link" aria-label="Direct link to ¿Cómo se Inserta en la Cadena de Filtros?" title="Direct link to ¿Cómo se Inserta en la Cadena de Filtros?">​</a></h3><p><strong>ExceptionTranslationFilter</strong> es parte de la cadena de filtros de seguridad (FilterChainProxy), lo que significa que se ejecuta en el flujo de procesamiento de cada solicitud HTTP. Si se produce una excepción durante el manejo de la solicitud, este filtro se encarga de capturarla y responder de manera adecuada.</p><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relación-con-otros-componentes">Relaci ón con Otros Componentes<a href="#relación-con-otros-componentes" class="hash-link" aria-label="Direct link to Relación con Otros Componentes" title="Direct link to Relación con Otros Componentes">​</a></h3><p>El <strong>ExceptionTranslationFilter</strong> se relaciona con varios otros componentes que gestionan la seguridad en Spring. A continuación explico cómo funciona este filtro y su interacción con otros elementos importantes:</p><div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-invocación-del-resto-de-la-aplicación">1. Invocación del Resto de la Aplicación<a href="#1-invocación-del-resto-de-la-aplicación" class="hash-link" aria-label="Direct link to 1. Invocación del Resto de la Aplicación" title="Direct link to 1. Invocación del Resto de la Aplicación">​</a></h4><p>El primer paso que realiza el <strong>ExceptionTranslationFilter</strong> es invocar <code>FilterChain.doFilter(request, response)</code>. Esto significa que llama a la cadena de filtros o al resto de la aplicación para que siga procesando la solicitud. Si no hay ninguna excepción relacionada con la seguridad, la solicitud simplemente continúa su flujo normal.</p><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div><div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-manejo-de-authenticationexception">2. Manejo de AuthenticationException<a href="#2-manejo-de-authenticationexception" class="hash-link" aria-label="Direct link to 2. Manejo de AuthenticationException" title="Direct link to 2. Manejo de AuthenticationException">​</a></h4><p>Si el usuario no está autenticado o si se produce una <strong>AuthenticationException</strong> durante el procesamiento de la solicitud, el filtro se encarga de <strong>iniciar el proceso de autenticación</strong>. Aquí están los pasos clave:</p><ul>
<li>
<p><strong>Limpiar el SecurityContextHolder</strong>: El <code>SecurityContextHolder</code> es el lugar donde Spring Security almacena la información de autenticación. Si ocurre una excepción, se borra para asegurarse de que no se reutilice información de autenticación no válida.</p>
</li>
<li>
<p><strong>Guardar la HttpServletRequest</strong>: La solicitud original (que causó la excepción) se guarda. Esto permite que, una vez que el usuario se autentique correctamente, se &quot;reproduzca&quot; la solicitud original, de modo que el usuario no pierda su progreso.</p>
</li>
<li>
<p><strong>Invocar el AuthenticationEntryPoint</strong>: El <code>AuthenticationEntryPoint</code> es el componente responsable de solicitar las credenciales al usuario. Por ejemplo, podría redirigir a una página de inicio de sesión o enviar un encabezado <code>WWW-Authenticate</code> en la respuesta HTTP para que el navegador solicite las credenciales.</p>
</li>
</ul><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div><div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-manejo-de-accessdeniedexception">3. Manejo de AccessDeniedException<a href="#3-manejo-de-accessdeniedexception" class="hash-link" aria-label="Direct link to 3. Manejo de AccessDeniedException" title="Direct link to 3. Manejo de AccessDeniedException">​</a></h4><p>Si el usuario está autenticado pero no tiene los permisos adecuados, se lanza una <strong>AccessDeniedException</strong>. En este caso:</p><ul>
<li><strong>Invocar el AccessDeniedHandler</strong>: El <code>AccessDeniedHandler</code> se encarga de gestionar esta situación y mostrar un mensaje apropiado al usuario. Puede ser una página que diga &quot;Acceso denegado&quot; o una respuesta HTTP con el estado 403 (Forbidden), lo que significa que el usuario no tiene los permisos necesarios.</li>
</ul><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div><div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-no-hay-excepciones">4. No hay Excepciones<a href="#4-no-hay-excepciones" class="hash-link" aria-label="Direct link to 4. No hay Excepciones" title="Direct link to 4. No hay Excepciones">​</a></h4><p>Si no se lanza ninguna excepción de seguridad, entonces el <code>ExceptionTranslationFilter</code> no hace nada y deja que la solicitud continúe su procesamiento normal.</p><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:center"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><p><img decoding="async" loading="lazy" src="https://docs.spring.io/spring-security/reference/_images/servlet/architecture/exceptiontranslationfilter.png" alt="alt" class="img_CujE"></p><div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><ol>
<li>
<p>El <strong>ExceptionTranslationFilter</strong> invoca <code>FilterChain.doFilter(request, response)</code> para continuar con el resto de la aplicación.</p>
</li>
<li>
<p>Si el usuario no está autenticado o se produce una <strong>AuthenticationException</strong>:</p>
<ul>
<li>Comienza el proceso de <strong>Autenticación</strong>.</li>
<li>El <strong>SecurityContextHolder</strong> se limpia.</li>
<li>El <strong>HttpServletRequest</strong> se guarda para que pueda reutilizarse la solicitud original después de una autenticación exitosa.</li>
<li>Se utiliza el <strong>AuthenticationEntryPoint</strong> para solicitar las credenciales del cliente (por ejemplo, redirigiendo a una página de inicio de sesión o enviando un encabezado WWW-Authenticate).</li>
</ul>
</li>
<li>
<p>Si se trata de una <strong>AccessDeniedException</strong> (denegación de acceso), se maneja con el <strong>AccessDeniedHandler</strong> para gestionar la denegación del acceso.</p>
</li>
</ol><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<div style="background-color:rgba(0, 255, 0, 0.05);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid rgba(0, 255, 0, 0.5);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ejemplo-de-pseudo-código">Ejemplo de Pseudo Código<a href="#ejemplo-de-pseudo-código" class="hash-link" aria-label="Direct link to Ejemplo de Pseudo Código" title="Direct link to Ejemplo de Pseudo Código">​</a></h3><p>Aquí tienes un ejemplo simplificado de cómo funciona el <strong>ExceptionTranslationFilter</strong> en pseudocódigo:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    filterChain</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">doFilter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// Invoca el resto de la aplicación</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token class-name" style="color:rgb(78, 201, 176)">AccessDeniedException</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">AuthenticationException</span><span class="token plain"> ex</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Si no está autenticado o es una AuthenticationException</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">authenticated </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> ex </span><span class="token keyword" style="color:rgb(86, 156, 214)">instanceof</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">AuthenticationException</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token function" style="color:rgb(220, 220, 170)">startAuthentication</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// Inicia el proceso de autenticación</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token function" style="color:rgb(220, 220, 170)">accessDenied</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// Maneja la denegación de acceso</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="desglose-del-pseudo-código">Desglose del Pseudo Código<a href="#desglose-del-pseudo-código" class="hash-link" aria-label="Direct link to Desglose del Pseudo Código" title="Direct link to Desglose del Pseudo Código">​</a></h4><ul>
<li>
<p><strong><code>filterChain.doFilter(request, response)</code></strong>: Este es el llamado al resto de la cadena de filtros o de la aplicación. Si la solicitud pasa sin problemas, este filtro no interviene más.</p>
</li>
<li>
<p><strong>Captura de Excepciones</strong>: Si se lanza una excepción, el filtro la captura. Si es una <strong>AuthenticationException</strong> o si el usuario no está autenticado, se inicia el proceso de autenticación. Si es una <strong>AccessDeniedException</strong>, se maneja la denegación de acceso.</p>
</li>
</ul><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<div style="background-color:var(--ifm-color-emphasis-100);border-radius:5px;padding:20px 20px 0px 20px;margin:5px 0px 20px 0px;border:1px solid var(--ifm-color-emphasis-200);color:var(--ifm-color-emphasis-900);text-align:left"><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dónde-se-usan-estas-excepciones">¿Dónde Se Usan Estas Excepciones?<a href="#dónde-se-usan-estas-excepciones" class="hash-link" aria-label="Direct link to ¿Dónde Se Usan Estas Excepciones?" title="Direct link to ¿Dónde Se Usan Estas Excepciones?">​</a></h3><p>Las excepciones como <strong>AuthenticationException</strong> y <strong>AccessDeniedException</strong> pueden ser lanzadas por otros componentes de seguridad, como el <strong>FilterSecurityInterceptor</strong> o la seguridad basada en métodos (cuando proteges métodos con anotaciones como <code>@PreAuthorize</code>).</p><i style="background-color:var(--ifm-color-emphasis-100);color:var(--ifm-color-emphasis-900)"></i></div>
<p>El <strong>ExceptionTranslationFilter</strong> es una pieza clave de la seguridad en Spring porque gestiona cómo se manejan los errores de autenticación y autorización. Si hay un problema con la autenticación, el filtro inicia el proceso para que el usuario proporcione credenciales. Si hay un problema con los permisos, gestiona el acceso denegado. Al estar integrado en la cadena de filtros, este filtro asegura que tu aplicación responda correctamente a las solicitudes no autorizadas o no autenticadas.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SanRM/notas-de-aprendizaje/edit/main/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/ExceptionTranslationFilter.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-18T05:17:21.000Z" itemprop="dateModified">Oct 18, 2024</time></b> by <b>SanRM</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Filtros personalizados"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Filtros personalizados</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notas-de-aprendizaje/docs/Lenguajes de programación/Java/Spring/Spring Security/Arquitectura/Guardar solicitudes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Guardar y reutilizar solicitudes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cómo-se-inserta-en-la-cadena-de-filtros" class="table-of-contents__link toc-highlight">¿Cómo se Inserta en la Cadena de Filtros?</a></li><li><a href="#relación-con-otros-componentes" class="table-of-contents__link toc-highlight">Relación con Otros Componentes</a><ul><li><a href="#1-invocación-del-resto-de-la-aplicación" class="table-of-contents__link toc-highlight">1. Invocación del Resto de la Aplicación</a></li><li><a href="#2-manejo-de-authenticationexception" class="table-of-contents__link toc-highlight">2. Manejo de AuthenticationException</a></li><li><a href="#3-manejo-de-accessdeniedexception" class="table-of-contents__link toc-highlight">3. Manejo de AccessDeniedException</a></li><li><a href="#4-no-hay-excepciones" class="table-of-contents__link toc-highlight">4. No hay Excepciones</a></li></ul></li><li><a href="#ejemplo-de-pseudo-código" class="table-of-contents__link toc-highlight">Ejemplo de Pseudo Código</a><ul><li><a href="#desglose-del-pseudo-código" class="table-of-contents__link toc-highlight">Desglose del Pseudo Código</a></li></ul></li><li><a href="#dónde-se-usan-estas-excepciones" class="table-of-contents__link toc-highlight">¿Dónde Se Usan Estas Excepciones?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://github.com/SanRM/notas-de-aprendizaje" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/notas-de-aprendizaje/img/favicon_notas_aprendizaje.ico" alt="Facebook Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" height="35"><img src="/notas-de-aprendizaje/img/favicon_notas_aprendizaje.ico" alt="Facebook Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" height="35"></a></div><div class="footer__copyright">Notas de aprendizaje - Santiago Rodriguez Morales - 2024</div></div></div></footer></div>
</body>
</html>